<!DOCTYPE html>
<html>

<head>
    <title>Home Dashboard</title>
</head>

<body>
    <h2>Home Dashboard API Data</h2>
    <div id="result">Loading...</div>
    <br><a href="/lender/">Lender Panel</a> | <a href="/borrower/">Borrower Panel</a> | <button
        onclick="logout()">Logout</button>
    <script>
        const token = localStorage.getItem('token');
        if (!token) window.location.href = '/login/';

        async function load() {
            const res = await fetch('/api/dashboard-data/', {
                headers: { 'Authorization': `Token ${token}` }
            });
            const json = await res.json();
            document.getElementById('result').innerHTML = "<pre>" + JSON.stringify(json, null, 2) + "</pre>";
        }
        function logout() { localStorage.removeItem('token'); window.location.href = '/login/'; }
        load();
    </script>
</body>

</html>